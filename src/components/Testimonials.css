/* Testimonials carousel styles */

.t-stage {
    --card: clamp(240px, 28vw, 285px);
    /* ✅ smaller max slot so side cards don't clip */
    --slot: clamp(220px, 30vw, 330px);

    position: relative;
    width: min(980px, 100%);
    margin: 0 auto;

    height: 440px;
    padding: 18px 56px 0;
    /* ✅ more side padding */
    box-sizing: border-box;
    overflow: hidden;
}

.t-notrans .t-card {
    transition: none !important;
}

/* cards */
.t-card {
    position: absolute;
    top: 0;
    left: 50%;

    width: var(--card);
    padding: 0 10px;
    box-sizing: border-box;

    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;

    transition: transform 520ms ease, opacity 520ms ease;
    will-change: transform, opacity;
}

/* quote text (constant size; center uses scale only) */
.t-quote {
    font-weight: 800;
    line-height: 1.25;
    font-size: 1.05rem;
    max-width: var(--card);
    padding: 0 2px;

    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 7;
    overflow: hidden;
}

.t-author {
    margin-top: 16px;
    font-weight: 800;
}

.t-meta {
    margin-top: 3px;
    color: var(--muted);
    font-size: 0.95rem;
}

/* RESTING SLOT POSITIONS */
.t-left {
    opacity: 0.82;
    transform: translateX(calc(-50% - var(--slot))) translateY(-6px) scale(0.86);
}

.t-center {
    opacity: 1;
    transform: translateX(-50%) translateY(28px) scale(1.4);
}

.t-right {
    opacity: 0.82;
    transform: translateX(calc(-50% + var(--slot))) translateY(-6px) scale(0.86);
}

/* incoming starts offscreen right */
.t-incoming {
    opacity: 0;
    transform: translateX(calc(-50% + calc(var(--slot) * 2.15))) translateY(-6px) scale(0.86);
}

/* ANIMATION STATE: roles move to next slot */
.t-anim .t-left {
    opacity: 0;
    transform: translateX(calc(-50% - calc(var(--slot) * 2.15))) translateY(-6px) scale(0.84);
}

.t-anim .t-center {
    opacity: 0.82;
    transform: translateX(calc(-50% - var(--slot))) translateY(-6px) scale(0.86);
}

.t-anim .t-right {
    opacity: 1;
    transform: translateX(-50%) translateY(28px) scale(1.4);
}

.t-anim .t-incoming {
    opacity: 0.82;
    transform: translateX(calc(-50% + var(--slot))) translateY(-6px) scale(0.86);
}

/* Mobile: show only center */
@media (max-width: 900px) {
    .t-stage {
        height: 420px;
        padding: 12px 18px 0;
    }

    .t-left,
    .t-right,
    .t-incoming {
        display: none;
    }

    .t-card {
        width: min(520px, 100%);
    }

    .t-center {
        transform: translateX(-50%) translateY(18px) scale(1.12);
    }

    .t-quote {
        font-size: 1.05rem;
        max-width: min(520px, 100%);
        -webkit-line-clamp: 8;
    }
}